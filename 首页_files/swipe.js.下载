!function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.Swipe=e(),t.Swipe}):"object"==typeof module&&module.exports?module.exports=e():t.Swipe=e()}(this,function(){function t(t,i){"use strict";function o(){I.addEventListener?(X.removeEventListener("touchstart",Y,!1),X.removeEventListener("mousedown",Y,!1),X.removeEventListener("webkitTransitionEnd",Y,!1),X.removeEventListener("msTransitionEnd",Y,!1),X.removeEventListener("oTransitionEnd",Y,!1),X.removeEventListener("otransitionend",Y,!1),X.removeEventListener("transitionend",Y,!1),e.removeEventListener("resize",Y,!1)):e.onresize=null}function s(){I.addEventListener?(I.touch&&X.addEventListener("touchstart",Y,!1),i.draggable&&X.addEventListener("mousedown",Y,!1),I.transitions&&(X.addEventListener("webkitTransitionEnd",Y,!1),X.addEventListener("msTransitionEnd",Y,!1),X.addEventListener("oTransitionEnd",Y,!1),X.addEventListener("otransitionend",Y,!1),X.addEventListener("transitionend",Y,!1)),e.addEventListener("resize",Y,!1)):e.onresize=W}function r(t){var e=t.cloneNode(!0);X.appendChild(e),e.setAttribute("data-cloned",!0),e.removeAttribute("id")}function a(e){if(null!=e)for(var n in e)i[n]=e[n];O=X.children,N=O.length;for(var a=0;a<O.length;a++)O[a].getAttribute("data-cloned")&&N--;O.length<2&&(i.continuous=!1),I.transitions&&i.continuous&&O.length<3&&(r(O[0]),r(O[1]),O=X.children),P=new Array(O.length),C=t.getBoundingClientRect().width||t.offsetWidth,X.style.width=O.length*C*2+"px";for(var u=O.length;u--;){var l=O[u];l.style.width=C+"px",l.setAttribute("data-index",u),I.transitions&&(l.style.left=u*-C+"px",h(u,Z>u?-C:Z<u?C:0,0))}i.continuous&&I.transitions&&(h(f(Z-1),-C,0),h(f(Z+1),C,0)),I.transitions||(X.style.left=Z*-C+"px"),t.style.visibility="visible",o(),s()}function u(){A||(i.continuous?m(Z-1):Z&&m(Z-1))}function l(){A||(i.continuous?m(Z+1):Z<O.length-1&&m(Z+1))}function c(t,e,n){i.callback&&i.callback(t,e,n)}function d(t,e){i.transitionEnd&&i.transitionEnd(t,e)}function f(t){return(O.length+t%O.length)%O.length}function v(){var t=Z;return t>=N&&(t-=N),t}function m(t,e){if(t="number"!=typeof t?parseInt(t,10):t,Z!==t){if(I.transitions){var n=Math.abs(Z-t)/(Z-t);if(i.continuous){var o=n;n=-P[f(t)]/C,n!==o&&(t=-n*O.length+t)}for(var s=Math.abs(Z-t)-1;s--;)h(f((t>Z?t:Z)-s-1),C*n,0);t=f(t),h(Z,C*n,e||Q),h(t,0,e||Q),i.continuous&&h(f(t-n),-C*n,0)}else t=f(t),E(Z*-C,t*-C,e||Q);Z=t,j(function(){c(v(),O[Z],n)})}}function h(t,e,n){p(t,e,n),P[t]=e}function p(t,e,n){var i=O[t],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=n+"ms",o.webkitTransform="translate("+e+"px,0)translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+e+"px)")}function E(t,e,n){if(!n)return void(X.style.left=e+"px");var o=+new Date,s=setInterval(function(){var r=+new Date-o;if(r>n)return X.style.left=e+"px",(S||i.autoRestart)&&g(),d(v(),O[Z]),void clearInterval(s);X.style.left=(e-t)*(Math.floor(r/n*100)/100)+t+"px"},4)}function b(){(S=i.auto||0)&&(k=setTimeout(l,S))}function y(){S=0,clearTimeout(k)}function g(){y(),b()}function T(){y(),A=!0}function x(){A=!1,g()}function L(t){return/^mouse/.test(t.type)}function w(){y(),t.style.visibility="",X.style.width="",X.style.left="";for(var e=O.length;e--;){I.transitions&&p(e,0,0);var n=O[e];if(n.getAttribute("data-cloned")){n.parentElement.removeChild(n)}n.style.width="",n.style.left="",n.style.webkitTransitionDuration=n.style.MozTransitionDuration=n.style.msTransitionDuration=n.style.OTransitionDuration=n.style.transitionDuration="",n.style.webkitTransform=n.style.msTransform=n.style.MozTransform=n.style.OTransform=""}o(),W.cancel()}i=i||{};var D,k,M={},z={},S=i.auto||0,A=!1,R=function(){},j=function(t){setTimeout(t||R,0)},I={addEventListener:!!e.addEventListener,touch:"ontouchstart"in e||e.DocumentTouch&&n instanceof DocumentTouch,transitions:function(t){var e=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in e)if(void 0!==t.style[e[n]])return!0;return!1}(n.createElement("swipe"))};if(t){var O,P,C,N,X=t.children[0],Z=parseInt(i.startSlide,10)||0,Q=i.speed||300;i.continuous=void 0===i.continuous||i.continuous,i.autoRestart=void 0!==i.autoRestart&&i.autoRestart;var W=function(t,e){function n(){o&&clearTimeout(o)}function i(){var i=this,s=arguments;n(),o=setTimeout(function(){o=null,t.apply(i,s)},e)}e=e||100;var o=null;return i.cancel=n,i}(a),Y={handleEvent:function(t){if(!A){switch(t.type){case"mousedown":case"touchstart":this.start(t);break;case"mousemove":case"touchmove":this.move(t);break;case"mouseup":case"mouseleave":case"touchend":this.end(t);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":this.transitionEnd(t);break;case"resize":W()}i.stopPropagation&&t.stopPropagation()}},start:function(t){var e;L(t)?(e=t,t.preventDefault()):e=t.touches[0],M={x:e.pageX,y:e.pageY,time:+new Date},D=void 0,z={},L(t)?(X.addEventListener("mousemove",this,!1),X.addEventListener("mouseup",this,!1),X.addEventListener("mouseleave",this,!1)):(X.addEventListener("touchmove",this,!1),X.addEventListener("touchend",this,!1))},move:function(t){var e;if(L(t))e=t;else{if(t.touches.length>1||t.scale&&1!==t.scale)return;i.disableScroll&&t.preventDefault(),e=t.touches[0]}z={x:e.pageX-M.x,y:e.pageY-M.y},void 0===D&&(D=!!(D||Math.abs(z.x)<Math.abs(z.y))),D||(t.preventDefault(),y(),i.continuous?(p(f(Z-1),z.x+P[f(Z-1)],0),p(Z,z.x+P[Z],0),p(f(Z+1),z.x+P[f(Z+1)],0)):(z.x=z.x/(!Z&&z.x>0||Z===O.length-1&&z.x<0?Math.abs(z.x)/C+1:1),p(Z-1,z.x+P[Z-1],0),p(Z,z.x+P[Z],0),p(Z+1,z.x+P[Z+1],0)))},end:function(t){var e=+new Date-M.time,n=Number(e)<250&&Math.abs(z.x)>20||Math.abs(z.x)>C/2,o=!Z&&z.x>0||Z===O.length-1&&z.x<0;i.continuous&&(o=!1);var s=Math.abs(z.x)/z.x;D||(n&&!o?(s<0?(i.continuous?(h(f(Z-1),-C,0),h(f(Z+2),C,0)):h(Z-1,-C,0),h(Z,P[Z]-C,Q),h(f(Z+1),P[f(Z+1)]-C,Q),Z=f(Z+1)):(i.continuous?(h(f(Z+1),C,0),h(f(Z-2),-C,0)):h(Z+1,C,0),h(Z,P[Z]+C,Q),h(f(Z-1),P[f(Z-1)]+C,Q),Z=f(Z-1)),c(v(),O[Z],s)):i.continuous?(h(f(Z-1),-C,Q),h(Z,0,Q),h(f(Z+1),C,Q)):(h(Z-1,-C,Q),h(Z,0,Q),h(Z+1,C,Q))),L(t)?(X.removeEventListener("mousemove",Y,!1),X.removeEventListener("mouseup",Y,!1),X.removeEventListener("mouseleave",Y,!1)):(X.removeEventListener("touchmove",Y,!1),X.removeEventListener("touchend",Y,!1))},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)===Z&&((S||i.autoRestart)&&g(),d(v(),O[Z]))}};return a(),b(),{setup:a,slide:function(t,e){y(),m(t,e)},prev:function(){y(),u()},next:function(){y(),l()},restart:g,stop:y,getPos:v,disable:T,enable:x,getNumSlides:function(){return N},kill:w}}}var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this,n=e.document;return(e.jQuery||e.Zepto)&&function(e){e.fn.Swipe=function(n){return this.each(function(){e(this).data("Swipe",new t(e(this)[0],n))})}}(e.jQuery||e.Zepto),t});